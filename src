CREATE TABLE `account` (
  `account_id` int NOT NULL AUTO_INCREMENT,
  `account_type_id` int NOT NULL,
  `role_id` int NOT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `address` varchar(50) DEFAULT NULL,
  `email` varchar(50) NOT NULL,
  `username` varchar(20) NOT NULL,
  `password` varchar(20) NOT NULL,
  `company_name` varchar(50) NOT NULL,
  PRIMARY KEY (`account_id`),
  UNIQUE KEY `account_id_UNIQUE` (`account_id`),
  UNIQUE KEY `username_UNIQUE` (`username`),
  KEY `role_idx` (`role_id`),
  KEY `type_idx` (`account_type_id`),
  CONSTRAINT `fk_role` FOREIGN KEY (`role_id`) REFERENCES `account_role` (`account_role_id`) ON UPDATE CASCADE,
  CONSTRAINT `fk_type` FOREIGN KEY (`account_type_id`) REFERENCES `account_type` (`account_type_id`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `account_role` (
  `account_role_id` int NOT NULL,
  `title` varchar(20) NOT NULL,
  `description` varchar(100) NOT NULL,
  PRIMARY KEY (`account_role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `account_type` (
  `account_type_id` int NOT NULL,
  `type` varchar(10) NOT NULL,
  `description` varchar(100) NOT NULL,
  PRIMARY KEY (`account_type_id`),
  UNIQUE KEY `type_UNIQUE` (`type`),
  UNIQUE KEY `account_type_id_UNIQUE` (`account_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `category` (
  `category_id` int NOT NULL,
  `account_id` int NOT NULL,
  `category_name` varchar(30) NOT NULL,
  `description` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`category_id`),
  KEY `fk_category_account_id_idx` (`account_id`),
  CONSTRAINT `fk_category_account_id` FOREIGN KEY (`account_id`) REFERENCES `account` (`account_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `expense` (
  `expense_id` int NOT NULL,
  `account_id` int NOT NULL,
  `product_id` int NOT NULL,
  `cost` float NOT NULL,
  `purchase_location` varchar(100) DEFAULT NULL,
  `description` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`expense_id`),
  KEY `fk_product_expense_id_idx` (`product_id`),
  KEY `fk_expense_account_id_idx` (`account_id`),
  CONSTRAINT `fk_expense_account_id` FOREIGN KEY (`account_id`) REFERENCES `account` (`account_id`),
  CONSTRAINT `fk_product_expense_id` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `inventory` (
  `inventory_id` int NOT NULL,
  `account_id` int NOT NULL,
  `product_id` int NOT NULL,
  `description` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`inventory_id`),
  KEY `fk_product_id_idx` (`product_id`),
  KEY `fk_inventory_account_id` (`account_id`),
  CONSTRAINT `fk_inventory_account_id` FOREIGN KEY (`account_id`) REFERENCES `account` (`account_id`),
  CONSTRAINT `fk_product_id` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `product` (
  `product_id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `color` varchar(20) NOT NULL,
  `status_id` int NOT NULL DEFAULT '0',
  `product_type_id` int DEFAULT '0',
  `listed_price` float DEFAULT NULL,
  `quantity` int NOT NULL DEFAULT '0',
  `category_id` int DEFAULT NULL,
  `size_id` int DEFAULT NULL,
  `sku` varchar(20) DEFAULT NULL,
  `condition_id` int DEFAULT NULL,
  `sale_date` datetime DEFAULT NULL,
  `weight` float DEFAULT NULL,
  `notes` varchar(100) DEFAULT NULL,
  `expense_id` int DEFAULT NULL,
  PRIMARY KEY (`product_id`),
  UNIQUE KEY `product_id_UNIQUE` (`product_id`),
  KEY `fk_category_id_idx` (`category_id`),
  KEY `fk_status_id_idx` (`status_id`),
  KEY `fk_product_type_id_idx` (`product_type_id`),
  KEY `fk_condition_id_idx` (`condition_id`),
  KEY `fk_expense_id_idx` (`expense_id`),
  KEY `fk_size_id_idx` (`size_id`),
  CONSTRAINT `fk_category_id` FOREIGN KEY (`category_id`) REFERENCES `category` (`category_id`),
  CONSTRAINT `fk_condition_id` FOREIGN KEY (`condition_id`) REFERENCES `product_condition` (`product_condition_id`),
  CONSTRAINT `fk_expense_id` FOREIGN KEY (`expense_id`) REFERENCES `expense` (`expense_id`),
  CONSTRAINT `fk_product_type_id` FOREIGN KEY (`product_type_id`) REFERENCES `product_type` (`product_type_id`),
  CONSTRAINT `fk_size_id` FOREIGN KEY (`size_id`) REFERENCES `size` (`size_id`),
  CONSTRAINT `fk_status_id` FOREIGN KEY (`status_id`) REFERENCES `status` (`status_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `product_condition` (
  `product_condition_id` int NOT NULL,
  `condition_name` varchar(15) NOT NULL,
  PRIMARY KEY (`product_condition_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `product_type` (
  `product_type_id` int NOT NULL,
  `name` varchar(45) NOT NULL,
  `description` varchar(45) NOT NULL,
  PRIMARY KEY (`product_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `size` (
  `size_id` int NOT NULL,
  `original_size` varchar(10) DEFAULT NULL,
  `length` varchar(7) DEFAULT NULL,
  `width` varchar(7) DEFAULT NULL,
  `height` varchar(7) DEFAULT NULL,
  PRIMARY KEY (`size_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `status` (
  `status_id` int NOT NULL,
  `status_name` varchar(45) NOT NULL,
  PRIMARY KEY (`status_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
